-<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jeopardy Review</title>
  <style>
    :root{
      --bg:#0b1b4a;
      --panel:#0f2a73;
      --panel2:#0c225f;
      --accent:#ffd54a;
      --text:#ffffff;
      --muted:#b8c5ff;
      --danger:#ff6b6b;
      --ok:#63d471;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
      --radius: 14px;
      --gap: 10px;
      --font: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 20% 10%, #163b9a 0%, var(--bg) 55%, #071133 100%);
      color:var(--text);
      font-family:var(--font);
      min-height:100vh;
      padding:24px;
    }
    header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
      margin-bottom:16px;
    }
    h1{
      margin:0;
      font-size:28px;
      letter-spacing:.5px;
    }
    .sub{
      margin-top:6px;
      color:var(--muted);
      font-size:14px;
      line-height:1.4;
      max-width:820px;
    }
    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:flex-end;
    }
    button, select{
      font: inherit;
      border:none;
      border-radius:999px;
      padding:10px 14px;
      background: rgba(255,255,255,.12);
      color:var(--text);
      cursor:pointer;
      box-shadow: none;
      transition: transform .05s ease, background .2s ease;
    }
    button:hover, select:hover{ background: rgba(255,255,255,.18); }
    button:active{ transform: translateY(1px); }
    button.primary{
      background: rgba(255,213,74,.18);
      border: 1px solid rgba(255,213,74,.35);
    }
    button.danger{
      background: rgba(255,107,107,.16);
      border: 1px solid rgba(255,107,107,.35);
    }
    button.ok{
      background: rgba(99,212,113,.16);
      border: 1px solid rgba(99,212,113,.35);
    }
    .layout{
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .layout{ grid-template-columns:1fr; }
    }
    .board{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap: var(--gap);
    }
    .cell{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 12px;
      min-height: 74px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:10px;
      box-shadow: 0 6px 16px rgba(0,0,0,.18);
      user-select:none;
    }
    .cat{
      font-weight:700;
      text-transform:uppercase;
      font-size:13px;
      letter-spacing: .7px;
      color: var(--muted);
      min-height: 64px;
    }
    .money{
      font-weight:900;
      font-size:22px;
      color: var(--accent);
      cursor:pointer;
      background: linear-gradient(180deg, rgba(15,42,115,.9), rgba(12,34,95,.9));
      border: 1px solid rgba(255,255,255,.12);
    }
    .money:hover{ filter: brightness(1.08); }
    .used{
      cursor:default;
      color: rgba(255,213,74,.28);
      filter: grayscale(.2);
      background: rgba(255,255,255,.03);
      border-style:dashed;
      box-shadow:none;
    }
    .side{
      display:flex;
      flex-direction:column;
      gap:16px;
    }
    .panel{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .panel h2{
      margin:0 0 10px 0;
      font-size:16px;
      color: var(--muted);
      letter-spacing:.4px;
      text-transform:uppercase;
    }
    .score-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 12px;
      border-radius: 12px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.08);
      margin-bottom:8px;
    }
    .score-row:last-child{ margin-bottom:0; }
    .team{ font-weight:700; }
    .score{
      font-variant-numeric: tabular-nums;
      font-weight:900;
      color: var(--accent);
    }
    .modal-backdrop{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.55);
      padding:18px;
      z-index: 50;
    }
    .modal{
      width:min(860px, 100%);
      background: linear-gradient(180deg, rgba(15,42,115,.96), rgba(11,27,74,.96));
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      padding:18px;
    }
    .modal-top{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:flex-start;
      margin-bottom:10px;
    }
    .meta{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      color: var(--muted);
      font-size:13px;
      align-items:center;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.10);
    }
    .label{
      color: var(--muted);
      font-size:12px;
      letter-spacing:.6px;
      text-transform:uppercase;
      margin:6px 0 2px;
    }
    .q{
      font-size:28px;
      line-height:1.22;
      font-weight:800;
      margin:6px 0 12px;
      letter-spacing:.2px;
    }
    .a{
      display:none;
      margin-top:10px;
      padding:12px;
      border-radius: 14px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.10);
      font-size:18px;
      line-height:1.35;
    }
    .a strong{ color: var(--accent); }
    .modal-actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:space-between;
      margin-top:14px;
    }
    .left-actions, .right-actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .note{
      color: var(--muted);
      font-size:12px;
      line-height:1.35;
      margin-top:8px;
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 6px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
    }
  </style>
</head>

<body>
  <header>
    <div>
      <h1>Jeopardy Review</h1>
      <div class="sub">
        Click a dollar value to open a <strong>clue</strong>. Students should respond <em>in the form of a question</em>
        (e.g., “What is …?”). Choose a team, then mark Correct/Incorrect to update the score.
        Edit teams, values, and clues in the <span class="kbd">EDIT THESE</span> section in the script.
      </div>
    </div>
    <div class="controls">
      <select id="teamSelect" aria-label="Select team"></select>
      <button id="toggleDD" class="primary" title="Toggle one Daily Double per round">Daily Double: Off</button>
      <button id="resetScores">Reset Scores</button>
      <button id="resetBoard" class="danger">Reset Board</button>
    </div>
  </header>

  <div class="layout">
    <section class="board">
      <div id="grid" class="grid" aria-label="Jeopardy board"></div>
      <div class="note">
        Tip: Press <span class="kbd">Esc</span> to close the clue. Press <span class="kbd">R</span> to reveal/hide the correct response.
      </div>
    </section>

    <aside class="side">
      <section class="panel">
        <h2>Scores</h2>
        <div id="scores"></div>
      </section>

      <section class="panel">
        <h2>Customize</h2>
        <div class="sub" style="margin:0;">
          Edit inside the script:
          <ul>
            <li><span class="kbd">TEAMS</span> — team names</li>
            <li><span class="kbd">VALUES</span> — money amounts</li>
            <li><span class="kbd">GAME_DATA</span> — 6 categories × 5 clues</li>
          </ul>
        </div>
      </section>
    </aside>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="backdrop" role="dialog" aria-modal="true" aria-label="Clue modal">
    <div class="modal">
      <div class="modal-top">
        <div class="meta" id="modalMeta"></div>
        <button id="closeModal" class="danger" aria-label="Close">Close</button>
      </div>

      <div class="label">Clue</div>
      <div class="q" id="modalQuestion"></div>

      <div class="note" style="margin:0 0 6px 0;">
        Respond <em>in the form of a question</em> (e.g., “What is …?”).
      </div>

      <div class="a" id="modalAnswer"><strong>Correct Response:</strong> <span id="answerText"></span></div>

      <div class="modal-actions">
        <div class="left-actions">
          <button id="showAnswer" class="primary">Show Correct Response</button>
          <button id="hideAnswer">Hide</button>
        </div>
        <div class="right-actions">
          <button id="markWrong" class="danger">Incorrect (−)</button>
          <button id="markRight" class="ok">Correct (+)</button>
        </div>
      </div>

      <div class="note">
        Scoring uses the selected team. If Daily Double is on and this clue is the DD, the value is doubled.
      </div>
    </div>
  </div>

<script>
/**
 * =========================
 * EDIT THESE
 * =========================
 */

// Team names
const TEAMS = ["Team A", "Team B", "Team C"];

// Dollar values (5 rows)
const VALUES = [100, 200, 300, 400, 500];

/**
 * GAME_DATA format:
 * - exactly 6 categories (columns)
 * - each category has exactly 5 clues (rows), matching VALUES
 * - each clue: { q: "clue text", a: "correct response text (in question form)" }
 */
const GAME_DATA = [
  {
    category: "Proportional Relationships (7.RP.A.1–2)",
    clues: [
      { q: "A recipe uses 3 cups of rice for 5 cups of water. Give the ratio rice:water in simplest form.", a: "What is 3:5?" },
      { q: "A runner goes 420 meters in 7 minutes at a constant rate. Give the unit rate in meters per minute.", a: "What is 60 meters per minute?" },
      { q: "On a map, 2 cm represents 15 km. How many kilometers does 7 cm represent?", a: "What is 52.5 km?" },
      { q: "A store sells 4 kg of apples for 220 baht at a constant price per kg. Write an equation for cost C in terms of kilograms k.", a: "What is C = 55k?" },
      { q: "Two quantities x and y are proportional. When x = 12, y = 30. Find y when x = 18.", a: "What is y = 45?" },
    ],
  },
  {
    category: "Percents (7.RP.3)",
    clues: [
      { q: "Find 18% of 250.", a: "What is 45?" },
      { q: "A shirt costs 1,200 baht and is discounted 25%. Find the sale price.", a: "What is 900 baht?" },
      { q: "A number increases from 48 to 60. Find the percent increase.", a: "What is 25%?" },
      { q: "After a 15% discount, the price is 680 baht. What was the original price?", a: "What is 800 baht?" },
      { q: "An account earns 6% simple interest per year. How much interest is earned on 25,000 baht in 18 months?", a: "What is 2,250 baht?" },
    ],
  },
  {
    category: "Statistics (7.SP.1–4)",
    clues: [
      { q: "Find the mean of: 6, 8, 9, 7, 10.", a: "What is 8?" },
      { q: "Find the median of: 12, 5, 9, 7, 6, 10.", a: "What is 8?" },
      { q: "A data set has mean 14 for 5 values. The first four values are 10, 13, 15, 18. Find the 5th value.", a: "What is 14?" },
      { q: "Two classes tracked minutes of homework. Class A has mean 30 and MAD 4. Class B has mean 30 and MAD 9. Which class is more consistent, and why?", a: "What is Class A, because the smaller MAD shows less variability?" },
      { q: "A box plot shows Q1 = 12, median = 18, Q3 = 26. Find the IQR and explain what it measures.", a: "What is an IQR of 14, which measures the spread of the middle 50% of the data?" },
    ],
  },
  {
    category: "Probability (7.SP.8)",
    clues: [
      { q: "A bag has 3 red and 7 blue marbles. Find P(red).", a: "What is 3/10?" },
      { q: "A fair die is rolled. Find P(rolling a multiple of 3).", a: "What is 1/3?" },
      { q: "A coin is flipped twice. Find P(exactly one head).", a: "What is 1/2?" },
      { q: "A bag has 5 green and 4 yellow marbles. You draw one, do NOT replace it, then draw again. Find P(green then yellow).", a: "What is 5/18?" },
      { q: "A bag has 4 red and 6 blue marbles. You draw 2 without replacement. Find P(two red).", a: "What is 2/15?" },
    ],
  },
  {
    category: "Similarity (8.G.A.1–4)",
    clues: [
      { q: "Two triangles are similar. A side of 6 cm in the small triangle corresponds to 9 cm in the large triangle. Find the scale factor (small → large).", a: "What is 3/2 (or 1.5)?" },
      { q: "Triangle A is similar to Triangle B. If Triangle A has perimeter 24 and the scale factor A → B is 1.25, find the perimeter of Triangle B.", a: "What is 30?" },
      { q: "A rectangle is dilated by a scale factor of 2.5. Its original area is 18 cm². Find the new area.", a: "What is 112.5 cm²?" },
      { q: "Two similar triangles have areas in a ratio of 49:81 (small:large). Find the ratio of corresponding side lengths (small:large).", a: "What is 7:9?" },
      { q: "A scale drawing uses 1 cm : 0.8 m. A room is drawn as 7.5 cm by 4 cm. Find the actual dimensions in meters.", a: "What is 6 m by 3.2 m?" },
    ],
  },
  {
    category: "Geometry (8.G.A.5)",
    clues: [
      { q: "A triangle has angles 48° and 62°. Find the third angle.", a: "What is 70°?" },
      { q: "Two parallel lines are cut by a transversal. One angle is 118°. Name one angle that must also be 118°.", a: "What is a corresponding angle (or an alternate interior angle)?" },
      { q: "Two parallel lines are cut by a transversal. One angle is 118°. Find the measure of an adjacent linear-pair angle.", a: "What is 62°?" },
      { q: "Two parallel lines are cut by a transversal. One angle is 62°. How many angles are 62° and how many are 118°?", a: "What are four angles of 62° and four angles of 118°?" },
      { q: "Two angles are supplementary. One angle is four less than three times the other. Find both angles.", a: "What are 46° and 134°?" }
    ],
  },
];

/**
 * =========================
 * END EDIT SECTION
 * =========================
 */

const state = {
  used: new Set(),          // key: `${c}-${r}`
  scores: {},
  dailyDoubleOn: false,
  dailyDoubleKey: null,     // one per round if enabled
  current: null,            // {c,r,key,value,q,a,dd:boolean}
};

function $(id){ return document.getElementById(id); }

function initScores() {
  state.scores = {};
  TEAMS.forEach(t => state.scores[t] = 0);
}

function renderTeamSelect(){
  const sel = $("teamSelect");
  sel.innerHTML = "";
  TEAMS.forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    sel.appendChild(opt);
  });
}

function renderScores(){
  const wrap = $("scores");
  wrap.innerHTML = "";
  TEAMS.forEach(t => {
    const row = document.createElement("div");
    row.className = "score-row";
    row.innerHTML = `<div class="team">${t}</div><div class="score">${state.scores[t]}</div>`;
    wrap.appendChild(row);
  });
}

function pickDailyDouble(){
  const candidates = [];
  for (let c=0; c<GAME_DATA.length; c++){
    for (let r=0; r<VALUES.length; r++){
      const key = `${c}-${r}`;
      if (!state.used.has(key)) candidates.push(key);
    }
  }
  state.dailyDoubleKey = candidates.length ? candidates[Math.floor(Math.random()*candidates.length)] : null;
}

function setDailyDoubleUI(){
  const btn = $("toggleDD");
  btn.textContent = `Daily Double: ${state.dailyDoubleOn ? "On" : "Off"}`;
}

function renderBoard(){
  const grid = $("grid");
  grid.innerHTML = "";

  // Category row
  for (let c=0; c<GAME_DATA.length; c++){
    const cell = document.createElement("div");
    cell.className = "cell cat";
    cell.textContent = GAME_DATA[c].category;
    grid.appendChild(cell);
  }

  // Clue rows
  for (let r=0; r<VALUES.length; r++){
    for (let c=0; c<GAME_DATA.length; c++){
      const key = `${c}-${r}`;
      const used = state.used.has(key);

      const cell = document.createElement("div");
      cell.className = "cell money" + (used ? " used" : "");
      cell.textContent = `$${VALUES[r]}`;

      if (!used){
        cell.addEventListener("click", () => openClue(c, r));
      }
      grid.appendChild(cell);
    }
  }
}

function setMeta(c, value, dd){
  const meta = [];
  meta.push(`<span class="pill"><strong>Category:</strong>&nbsp;${GAME_DATA[c].category}</span>`);
  meta.push(`<span class="pill"><strong>Clue Value:</strong>&nbsp;$${value}${dd ? " (Daily Double!)" : ""}</span>`);
  meta.push(`<span class="pill"><strong>Team:</strong>&nbsp;${$("teamSelect").value}</span>`);
  $("modalMeta").innerHTML = meta.join("");
}

function openClue(c, r){
  const clue = GAME_DATA[c].clues[r];
  const value = VALUES[r];
  const key = `${c}-${r}`;

  const dd = state.dailyDoubleOn && state.dailyDoubleKey === key;
  state.current = { c, r, key, value, q: clue.q, a: clue.a, dd };

  $("modalQuestion").textContent = clue.q;
  $("answerText").textContent = clue.a;
  $("modalAnswer").style.display = "none";

  setMeta(c, value, dd);
  $("backdrop").style.display = "flex";
}

function closeClue(){
  $("backdrop").style.display = "none";
  state.current = null;
}

function toggleAnswer(show){
  $("modalAnswer").style.display = show ? "block" : "none";
}

function applyScore(correct){
  if (!state.current) return;

  const team = $("teamSelect").value;
  const mult = state.current.dd ? 2 : 1;
  const delta = state.current.value * mult * (correct ? 1 : -1);

  state.scores[team] += delta;

  // mark used + close
  state.used.add(state.current.key);

  // if that was the DD, clear it for the rest of the round
  if (state.current.dd) state.dailyDoubleKey = null;

  renderScores();
  renderBoard();
  closeClue();

  // if DD is on and there isn't one picked yet, pick it
  if (state.dailyDoubleOn && !state.dailyDoubleKey){
    pickDailyDouble();
  }
}

function resetBoard(){
  state.used.clear();
  state.dailyDoubleKey = null;
  renderBoard();
  if (state.dailyDoubleOn) pickDailyDouble();
}

function resetScores(){
  initScores();
  renderScores();
}

function wireEvents(){
  $("closeModal").addEventListener("click", closeClue);
  $("backdrop").addEventListener("click", (e) => {
    if (e.target === $("backdrop")) closeClue();
  });

  $("showAnswer").addEventListener("click", () => toggleAnswer(true));
  $("hideAnswer").addEventListener("click", () => toggleAnswer(false));

  $("markRight").addEventListener("click", () => applyScore(true));
  $("markWrong").addEventListener("click", () => applyScore(false));

  $("resetBoard").addEventListener("click", resetBoard);
  $("resetScores").addEventListener("click", resetScores);

  $("toggleDD").addEventListener("click", () => {
    state.dailyDoubleOn = !state.dailyDoubleOn;
    setDailyDoubleUI();
    if (state.dailyDoubleOn){
      pickDailyDouble();
    } else {
      state.dailyDoubleKey = null;
    }
  });

  $("teamSelect").addEventListener("change", () => {
    if (state.current){
      setMeta(state.current.c, state.current.value, state.current.dd);
    }
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeClue();
    if (e.key.toLowerCase() === "r" && $("backdrop").style.display === "flex"){
      const isShown = $("modalAnswer").style.display === "block";
      toggleAnswer(!isShown);
    }
  });
}

function validateGameData(){
  if (GAME_DATA.length !== 6) {
    console.warn("GAME_DATA should have exactly 6 categories for the 6-column board.");
  }
  GAME_DATA.forEach((cat, i) => {
    if (!cat.clues || cat.clues.length !== VALUES.length) {
      console.warn(`Category ${i+1} should have exactly ${VALUES.length} clues.`);
    }
  });
}

function init(){
  validateGameData();
  initScores();
  renderTeamSelect();
  renderScores();
  setDailyDoubleUI();
  renderBoard();
  wireEvents();
}

init();
</script>
</body>
</html>
